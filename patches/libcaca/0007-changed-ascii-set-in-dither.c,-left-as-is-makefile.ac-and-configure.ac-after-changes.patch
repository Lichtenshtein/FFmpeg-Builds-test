From 7ab04811bbb969444809235e6925511336a41b8b Mon Sep 17 00:00:00 2001
From: louiscyphre <goldman.sign.and.verify@gmail.com>
Date: Sat, 8 May 2021 23:15:25 +0300
Subject: [PATCH] Changed ascii set in dither.c, left as is Makefile.ac and
 configure.ac after changes

---
 Makefile.am   |  3 +++
 caca/dither.c | 43 +++++++++++++++++++++++++++++++++++++++----
 configure.ac  | 18 +++++++++++++++---
 3 files changed, 57 insertions(+), 7 deletions(-)

diff --git a/Makefile.am b/Makefile.am
index f218e9d0..51f5e5f9 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -8,6 +8,9 @@ DIST_SUBDIRS = $(SUBDIRS) build
 EXTRA_DIST = NOTES COPYING.GPL COPYING.ISC COPYING.LGPL bootstrap caca-config.in libcaca.spec libcaca.sln
 AUTOMAKE_OPTIONS = dist-bzip2
 
+#AM_CFLAGS = -Wall -Wextra -Werror
+#AM_CPPFLAGS = -Wall -Wextra -Werror
+
 bin_SCRIPTS = caca-config
 
 webhost = poulet.zoy.org
diff --git a/caca/dither.c b/caca/dither.c
index b2e24e55..6b3f5513 100644
--- a/caca/dither.c
+++ b/caca/dither.c
@@ -86,19 +86,54 @@ static int const rgb_weight[] =
 /* List of glyphs */
 static uint32_t ascii_glyphs[] =
 {
+    /*
     ' ', '.', ':', ';', 't', '%', 'S', 'X', '@', '8', '?'
+    */
+
+/*
+    ' ', '!', '"', '#', '$', '%', '&', '\'', '(', ')', '*', '+', ',',
+    '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',
+    ':', ';', '<', '=', '>', '?', '@', 'A', 'B', 'C', 'D', 'E', 'F',
+    'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',
+    'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '[', '\\', ']', '^', '_', '`',
+    'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm',
+    'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',
+    '{', '|', '}', '~',
+*/
+
+    /* Part of ASCII set */
+    ' ', '!', '"', '#', '$', '%', '&', '\'', '(', ')', '*', '+', ',',
+    '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',
+    ':', ';', '<', '=', '>', '?', '@', '[', '\\', ']', '^', '_', '`',
+    '{', '|', '}', '~',
+
+    // Super- and Subscripts
+    // 'Ъ', 'ъ'
+    0x042a, 0x044a,
+    /* Digits */
+    0x2070,0x00b9,0x00b2,0x00b3,0x2074,0x2075,0x2076,0x2077,0x2078,0x2079,
+    0x2080,0x2081,0x2082,0x2083,0x2084,0x2085,0x2086,0x2087,0x2088,0x2089,
+    /* Greek big */
+    0x0391,0x0392,0x0393,0x0394,0x0395,0x0396,0x0397,0x0398,0x0399,0x039a,
+    0x039b,0x039c,0x039d,0x039e,0x039f,0x03a0,0x03a1,0x03a2,0x03a3,0x03a4,
+    0x03a5,0x03a6,0x03a7,0x03a8,0x03a9,
+    /* Greek small */
+    0x03b1,0x03b2,0x03b3,0x03b4,0x03b5,0x03b6,0x03b7,0x03b8,0x03b9,0x03ba,
+    0x03bb,0x03bc,0x03bd,0x03be,0x03bf,0x03c0,0x03c1,0x03c2,0x03c3,0x03c4,
+    0x03c5,0x03c6,0x03c7,0x03c8,0x03c9,
+
 };
 
 static uint32_t shades_glyphs[] =
 {
-    /* ' '. '·', '░', '▒', '?' */
-    ' ', 0xb7, 0x2591, 0x2592, '?'
+    /* ' '. '·', '░', '▒', '▓', '?' */
+    ' ', 0xb7, 0x2591, 0x2592, 0x2593, '?'
 };
 
 static uint32_t blocks_glyphs[] =
 {
-    /* ' ', '▘', '▚', '?' */
-    ' ', 0x2598, 0x259a, '?'
+    /* ' ', '▘', '▚', '▟', '■', '█', '?' */
+    ' ', 0x2598, 0x259a, 0x259f, 0x25a0,  0x2588, '?'
 };
 
 #if !defined(_DOXYGEN_SKIP_ME)
diff --git a/configure.ac b/configure.ac
index 905b3a06..fbce6333 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1,9 +1,21 @@
 
-AC_INIT([libcaca],[0.99.beta20])
+AC_INIT([libcaca],[0.99.beta2021])
 AC_PREREQ([2.71])
 AC_CONFIG_AUX_DIR(.auto)
 AC_CANONICAL_TARGET
 AM_INIT_AUTOMAKE([foreign no-define tar-ustar silent-rules subdir-objects])
+
+#LDFLAGS+="-g -pg"
+#CFLAGS+=" -Wall -Wextra -g -pg -fopenmp -finput-charset=utf8 -fexec-charset=utf8"
+#CXXFLAGS+=" -Wall -Wextra -g -pg -fopenmp"
+#CPPFLAGS+=" -Wall -Wextra -g -pg -fopenmp"
+
+CFLAGS+=" -Wall -Wextra -fopenmp -O2"
+CXXFLAGS+=" -Wall -Wextra -fopenmp -O2"
+CPPFLAGS+=" -Wall -Wextra -fopenmp -O2"
+
+AC_MSG_NOTICE([Current CFLAGS: ${CFLAGS}, Current CXXFLAGS: ${CXXFLAGS}])
+
 dnl AM_MAINTAINER_MODE
 AM_DEFAULT_VERBOSITY=0
 
@@ -11,7 +22,7 @@ AM_CONFIG_HEADER(config.h)
 
 LT_MAJOR="0"
 LT_MINOR="99"
-LT_MICRO="20"
+LT_MICRO="2021"
 AC_SUBST(LT_MAJOR)
 AC_SUBST(LT_MINOR)
 AC_SUBST(LT_MICRO)
